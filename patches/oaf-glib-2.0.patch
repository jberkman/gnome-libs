Index: .cvsignore
===================================================================
RCS file: /cvs/gnome/oaf/.cvsignore,v
retrieving revision 1.7
diff -u -u -r1.7 .cvsignore
--- .cvsignore	2000/06/19 16:08:10	1.7
+++ .cvsignore	2000/09/30 02:23:39
@@ -23,3 +23,4 @@
 po
 stamp-h
 stamp-h.in
+oaf-2.0.pc
Index: Makefile.am
===================================================================
RCS file: /cvs/gnome/oaf/Makefile.am,v
retrieving revision 1.12
diff -u -u -r1.12 Makefile.am
--- Makefile.am	2000/08/10 21:55:58	1.12
+++ Makefile.am	2000/09/30 02:23:39
@@ -28,6 +28,7 @@
 	ChangeLog 		\
 	NEWS 			\
 	README			\
+	oaf.pc.in
 	$(NULL)
 
 oafconfigdir=$(sysconfdir)/oaf
@@ -41,6 +42,9 @@
 
 m4datadir=$(datadir)/aclocal
 m4data_DATA=oaf.m4
+
+pkgconfigdir = $(libdir)/pkgconfig
+pkgconfig_DATA = oaf-2.0.pc
 
 #dist-hook: oaf.spec
 #	cp oaf.spec $(distdir)
Index: configure.in
===================================================================
RCS file: /cvs/gnome/oaf/configure.in,v
retrieving revision 1.41
diff -u -u -r1.41 configure.in
--- configure.in	2000/09/29 04:53:01	1.41
+++ configure.in	2000/09/30 02:23:39
@@ -38,7 +38,7 @@
 
 
 dnl Checks for libraries.
-AM_PATH_GLIB(1.2.0,,
+AM_PATH_GLIB_2_0(1.3.0,,
 AC_MSG_ERROR([
 *** GLIB 1.2.0 or better is required. The latest version of GLIB
 *** is always available from ftp://ftp.gtk.org/.]), gmodule)
@@ -168,5 +168,6 @@
 po/Makefile.in
 oaf-config
 oafConf.sh
+oaf-2.0.pc
 ],
 [sed -e "/POTFILES =/r po/POTFILES" po/Makefile.in > po/Makefile])
Index: oaf-2.0.pc.in
===================================================================
RCS file: oaf-2.0.pc.in
diff -N oaf-2.0.pc.in
--- /dev/null	Tue May  5 16:32:27 1998
+++ oaf-2.0.pc.in	Fri Sep 29 22:23:39 2000
@@ -0,0 +1,11 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+
+Name: OAF
+Description: Object activation framework for GNOME
+Requires: ORBit-2.0
+Libs: -L${libdir} -loaf
+Cflags: -I${includedir}
\ No newline at end of file
Index: po/Makefile.in.in
===================================================================
RCS file: /cvs/gnome/oaf/po/Makefile.in.in,v
retrieving revision 1.3
diff -u -u -r1.3 Makefile.in.in
--- po/Makefile.in.in	2000/07/26 01:01:50	1.3
+++ po/Makefile.in.in	2000/09/30 02:23:40
@@ -62,7 +62,7 @@
 	$(COMPILE) $<
 
 .po.pox:
-	$(MAKE) $(PACKAGE).pot
+	$(MAKE) $(srcdir)/$(PACKAGE).pot
 	$(MSGMERGE) $< $(srcdir)/$(PACKAGE).pot -o $*.pox
 
 .po.mo:
@@ -79,7 +79,7 @@
 
 all: all-@USE_NLS@
 
-all-yes: cat-id-tbl.c $(CATALOGS)
+all-yes: $(srcdir)/cat-id-tbl.c $(CATALOGS)
 all-no:
 
 $(srcdir)/$(PACKAGE).pot: $(POTFILES)
@@ -90,8 +90,8 @@
 	   || ( rm -f $(srcdir)/$(PACKAGE).pot \
 		&& mv $(PACKAGE).po $(srcdir)/$(PACKAGE).pot )
 
-$(srcdir)/cat-id-tbl.c: stamp-cat-id; @:
-$(srcdir)/stamp-cat-id: $(PACKAGE).pot
+$(srcdir)/cat-id-tbl.c: $(srcdir)/stamp-cat-id; @:
+$(srcdir)/stamp-cat-id: $(srcdir)/$(PACKAGE).pot
 	rm -f cat-id-tbl.tmp
 	sed -f ../intl/po2tbl.sed $(srcdir)/$(PACKAGE).pot \
 		| sed -e "s/@PACKAGE NAME@/$(PACKAGE)/" > cat-id-tbl.tmp
@@ -180,7 +180,8 @@
 
 check: all
 
-cat-id-tbl.o: ../intl/libgettext.h
+cat-id-tbl.o: $(srcdir)/cat-id-tbl.c $(top_srcdir)/intl/libgettext.h
+	$(COMPILE) $(srcdir)/cat-id-tbl.c
 
 dvi info tags TAGS ID:
 
@@ -196,7 +197,7 @@
 maintainer-clean: distclean
 	@echo "This command is intended for maintainers to use;"
 	@echo "it deletes files that may require special tools to rebuild."
-	rm -f $(GMOFILES)
+	rm -f $(GMOFILES) cat-id-tbl.c stamp-cat-id
 
 distdir = ../$(PACKAGE)-$(VERSION)/$(subdir)
 dist distdir: update-po $(DISTFILES)
@@ -207,7 +208,7 @@
 	done
 
 update-po: Makefile
-	$(MAKE) $(PACKAGE).pot
+	$(MAKE) $(srcdir)/$(PACKAGE).pot
 	PATH=`pwd`/../src:$$PATH; \
 	cd $(srcdir); \
 	catalogs='$(CATALOGS)'; \
