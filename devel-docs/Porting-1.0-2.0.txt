		Porting GNOME 1.0 Applications to GNOME 2.0


[this document is still work-in-progress.]

How to prepare your GNOME 1.0 Applications for GNOME 2.0
========================================================

There are some things which you can do in your GNOME 1.0 Application
to make it easier to port them to GNOME 2.0 while still keeping
compatible with the GNOME 1.x platform.

We will add some new functions to the stable version of gnome-libs
after GNOME 1.4 which will help you to archive this. The most important
thing is to use accessor functions rather than accessing widget data
directly whereever it's possible. These new functions will help you
doing this.

* GnomeEntry

  - this won't be a GtkCombo any longer, but a GnomeSelector.

  The following functions will be removed:

  - gnome_entry_gtk_entry()

    GnomeEntry isn't a GtkCombo/GtkEntry anymore; use
    gnome_entry_get_text() and gnome_entry_set_text() to access
    the entry text.

  The following functions will be deprecated:

  - gnome_entry_get_history_id, gnome_entry_set_history_id
    gnome_entry_get_history_id, gnome_entry_set_max_saved
    gnome_entry_get_max_saved, gnome_entry_prepend_history
    gnome_entry_append_history, gnome_entry_load_history
    gnome_entry_save_history, gnome_entry_clear_history

    Use the corresponding functions in GnomeSelector.

  The following new functions have been added:

  - gnome_entry_get_text(), gnome_entry_set_text()

  These functions will be added to the stable gnome-libs after GNOME 1.4;
  in all existing code. To prepare things in GNOME 1.x:

  - use gnome_entry_get/set_text() rather than gnome_entry_gtk_entry()

  - try not to access any of the 'changed', 'history_id', 'items' and
    'max_saved' fields in the GnomeEntry directly, they will be private
    in GNOME 2.0.



-------------------------------------------------------------------------
Everything below this line is old (Feb 23 2001, Martin):
---->

Using new feature: libgnome/gnomelib-init2.h

- The new program initialization system allows the application to
  specify the modules it will use, and parameters to be passed to those
  modules to affect their initialization.  It replaces the old
  gnome-init style.

New modules:
- lignomeui/gnome-helpsys

	This help API is more complete than the previous implementation.

	Major app-visible changes besides the new API include:
		Using topic.list instead of topic.dat (topic.list uses chapter names instead of HTML file names).

- libgnome/gnome-ditem

	An improved version of the desktop file reading API, use this instead
	of gnome-dentry

- libgnomeui/gnome-ditem-edit

	An edit widget for gnome-ditem

/* FIXME: there is more, but I can't figure out what is it they all do
 * -George */

New functions: 
/* FIXME: this section would be hell to keep current, think about
 * removal
 * -George */
- gnome_message_box_get_label
- gnome_file_locate

Removed/Changed functions:

 GnomeMessageBox
  - gnome_message_box_set_modal (use gnome_dialog_set_modal instead)
  - gnome_message_box_set_default (use gnome_dialog_set_default instead)

 GnomeHRef:
  - gnome_href_set_label (use gnome_href_set_text)
  - gnome_href_get_label (use gnome_href_get_text)

 GnomeAppBar:
  - gnome_appbar_set_progress (use gnome_appbar_set_progress_percentage)

 GnomeFileEntry:
  - gnome_file_entry_set_directory (use gnome_file_entry_set_directory_entry)

 GnomeIconEntry:
  - gnome_icon_entry_set_icon (use gnome_icon_entry_set_filename)

  - gnome_icon_entry_gnome_file_entry
  - gnome_icon_entry_gnome_entry
  - gnome_icon_entry_gtk_entry
     The entry is not guaranteed to exist anymore, use the "changed"
     signal to register changes.

 GnomeDateEdit:
  - gnome_date_edit_get_date (use gnome_date_edit_get_time)

 GnomeIconSelection
  - gnome_icon_selection_get_icon returns a newly allocated string now

General Changes:

 - everywhere: There is far more "const correctness" everywhere which
   could create many warnings for your application

 - everywhere: The use of private pointers and opaque types is much more
   prevalent, thus if your code did peek into the internals of widgets
   or other types, you will probably have to change your code.

 - libgnome/gnome-history.h: the GnomeHistoryEntry is no longer a typedef
   to a pointer, thus all references should change from
     GnomeHistoryEntry foo;
      to
     GnomeHistoryEntry *foo;

Removed Modules:
- libgnome/gnome-dentry (use gnome-ditem)
- libgnomeui/gnome-font-selector (use gtk-font-selector)
- libgnomeui/gnome-preferences
- libgnomeui/gnome-properties
- libgnomeui/gnome-property-entries
- libgnomeui/gnome-dentry-edit (use gnome-ditem-edit)
- libgnomeui/gnome-guru (use gnome-druid instead)
- libgnomeui/gnome-spell
- libgnomeui/gnome-startup (use gnome-session instead)
- libgnomeui/gtkcauldron (use glade instead)

/* FIXME: really? the help situation MUST be resolved, or someone needs to
 * make sure helpsys really does everything, even though I think gnome-help
 * is still useful
 * -George */
- libgnome/gnome-help (use gnome-helpsys instead)
